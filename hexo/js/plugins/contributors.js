const ContributorsJS={requestAPI:(t,r,n)=>{let e=5;!function o(){return new Promise(((a,s)=>{let i=0,l=setTimeout((()=>{0===i&&(i=2,l=null,s("请求超时"),0==e&&n())}),5e3);fetch(t).then((function(t){if(2!==i&&(clearTimeout(l),a(t),l=null,i=1),t.ok)return t.json();throw new Error("Network response was not ok.")})).then((function(t){e=0,r(t)})).catch((function(t){e>0?(e-=1,setTimeout((()=>{o()}),5e3)):n()}))}))}()},layout:t=>{const r=$(t.el)[0];ContributorsJS.requestAPI(t.api,(function(n){$(r).find(".loading-wrap").remove(),(n||[]).forEach(((n,e)=>{var o='<div class="user-card">';o+='<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer"',o+=' href="'+n.html_url+'">',o+='<img src="'+(n.avatar_url||t.avatar)+'" onerror="javascript:this.src=\''+t.avatar+"';\">",o+='<div class="name"><span>'+n.login+"</span></div>",o+="</a>",o+="</div>",$(r).find(".group-body").append(o)}))}),(function(){$(r).find(".loading-wrap svg").remove(),$(r).find(".loading-wrap p").text("加载失败，请稍后重试。")}))},start:()=>{const t=document.getElementsByClassName("contributorsjs-wrap");for(var r=0;r<t.length;r++){const e=t[r],o=e.getAttribute("api");if(null!=o){var n=new Object;n.el=e,n.api=o,n.class=e.getAttribute("class"),n.avatar="https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/avatar/round/3442075.svg",ContributorsJS.layout(n)}}}};$((function(){ContributorsJS.start()})),document.addEventListener("pjax:complete",(function(){ContributorsJS.start()}));