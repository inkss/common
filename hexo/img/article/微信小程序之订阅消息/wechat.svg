<svg width="803.1" height="708" xmlns="http://www.w3.org/2000/svg"><defs><marker id="a" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="b" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="c" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="d" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="e" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="f" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="g" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="h" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="i" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="j" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="k" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="l" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="m" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="n" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="o" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker><marker id="p" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path d="m0 2 14 4-14 5V2" fill="#323232" stroke="#323232" stroke-width="2"/></marker></defs><path d="M233.833 25h73.334c17.777 0 17.777 40 0 40h-73.334c-17.777 0-17.777-40 0-40z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="10.375" transform="translate(220.5 25)"><tspan dy="16" x="50"><tspan>开始</tspan></tspan></text><path d="M35.5 111.4h100v40h-100z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="10.375" transform="translate(35.5 111.4)"><tspan dy="16" x="50"><tspan>首次登陆</tspan></tspan></text><path d="m40.5 237.4 45-35 45 35-45 35-45-35z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="17.375" transform="translate(40.5 202.4)"><tspan dy="16" x="45"><tspan>消息通知</tspan></tspan><tspan dy="16" x="45"><tspan>权限申请</tspan></tspan></text><path d="M220.5 217.4h100v40h-100z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="2.375" transform="translate(220.5 217.4)"><tspan dy="16" x="50"><tspan>跳到到权限</tspan></tspan><tspan dy="16" x="50"><tspan>设置页面</tspan></tspan></text><path d="M130.5 237.4h90" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#a)"/><path fill="#fff" d="M143 221.4h65v32h-65z"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="219.775"><tspan dy="16" x="175.5"><tspan>未开启消息</tspan></tspan><tspan dy="16" x="175.5"><tspan>通知权限</tspan></tspan></text><path d="M85.5 272.4v40" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#b)"/><path fill="#fff" d="M72.5 284.4h26v16h-26z"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="282.775"><tspan dy="16" x="85.5"><tspan>成功</tspan></tspan></text><path d="M85.5 151.4v51" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#c)"/><path d="M270.5 65v22.9h-185v23.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#d)"/><path d="m25 347.4 60.5-35 60.5 35-60.5 35-60.5-35z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="17.375" transform="translate(25 312.4)"><tspan dy="16" x="60.5"><tspan>检查是否</tspan></tspan><tspan dy="16" x="60.5"><tspan>授权成功</tspan></tspan></text><path d="M233.833 643h73.334c17.777 0 17.777 40 0 40h-73.334c-17.777 0-17.777-40 0-40z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="10.375" transform="translate(220.5 643)"><tspan dy="16" x="50"><tspan>结束</tspan></tspan></text><path d="M85.5 382.4v130.1h185V643" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#e)"/><path fill="#fff" d="M132.7 488.5h91v48h-91z"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="486.875"><tspan dy="16" x="178.2"><tspan>成功与否不重要</tspan></tspan><tspan dy="16" x="178.2"><tspan>提醒一下就好</tspan></tspan><tspan dy="16" x="178.2"><tspan>主要是完成登录</tspan></tspan></text><path d="M416.5 111.4h100v40h-100z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="10.375" transform="translate(416.5 111.4)"><tspan dy="16" x="50"><tspan>自动登录</tspan></tspan></text><path d="M270.5 65v22.9h196v23.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#f)"/><path d="m421.5 237.4 45-35 45 35-45 35-45-35z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="17.375" transform="translate(421.5 202.4)"><tspan dy="16" x="45"><tspan>消息通知</tspan></tspan><tspan dy="16" x="45"><tspan>权限检查</tspan></tspan></text><path d="M466.5 151.4v51" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#g)"/><path d="M421.5 237.4h-101" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#h)"/><path fill="#fff" d="M338.5 221.4h65v32h-65z"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="219.775"><tspan dy="16" x="371"><tspan>未开启消息</tspan></tspan><tspan dy="16" x="371"><tspan>通知权限</tspan></tspan></text><path d="M270.5 217.4v-86h146" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#i)"/><path d="M270.5 217.4v-86h-135" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#j)"/><path d="m379.5 347.4 87-35 87 35-87 35-87-35z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="17.375" transform="translate(379.5 312.4)"><tspan dy="16" x="87"><tspan>检查返回结果 </tspan></tspan><tspan dy="16" x="87"><tspan>itemSettings 内容</tspan></tspan></text><path d="M466.5 272.4v40" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#k)"/><path fill="#fff" d="M453.5 284.4h26v16h-26z"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="282.775"><tspan dy="16" x="466.5"><tspan>成功</tspan></tspan></text><path d="M416.5 546.8h100v40h-100z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="2.375" transform="translate(416.5 546.8)"><tspan dy="16" x="50"><tspan>进行消息通知</tspan></tspan><tspan dy="16" x="50"><tspan>权限申请</tspan></tspan></text><path d="M553.5 347.4h116.6v219.4H516.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#l)"/><path fill="#fff" d="M586.9 315h143v64h-143z"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="313.375"><tspan dy="16" x="658.4"><tspan>结果集为空，意味着</tspan></tspan><tspan dy="16" x="658.4"><tspan>没有勾选总是选择，弹窗</tspan></tspan><tspan dy="16" x="658.4"><tspan>重新申请并提示诱导</tspan></tspan><tspan dy="16" x="658.4"><tspan>用户勾选</tspan></tspan></text><path d="m421.5 466 45-35 45 35-45 35-45-35z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="#fff"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="17.375" transform="translate(421.5 431)"><tspan dy="16" x="45"><tspan>检查返回结</tspan></tspan><tspan dy="16" x="45"><tspan>果内容</tspan></tspan></text><path d="M466.5 382.4V431" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#m)"/><path fill="#fff" d="M427.5 398.7h78v16h-78z"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="397.075"><tspan dy="16" x="466.5"><tspan>结果集不为空</tspan></tspan></text><path d="M421.5 466h-151V257.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#n)"/><path fill="#fff" d="M159.5 362.4h220v80h-220z"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="360.775"><tspan dy="16" x="269.5"><tspan>全部拒绝 or 单条拒绝选 &amp;&amp; 全部勾选</tspan></tspan><tspan dy="16" x="269.5"><tspan>跳转过去重新让用户勾选</tspan></tspan><tspan dy="16" x="269.5"><tspan>（因为全部勾选后，权限申请页面</tspan></tspan><tspan dy="16" x="269.5"><tspan>就弹不出来啦，只能进设置页面</tspan></tspan><tspan dy="16" x="269.5"><tspan>手动修改）</tspan></tspan></text><path d="M466.5 501v45.8" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#o)"/><path fill="#fff" d="M421 515.9h91v16h-91z"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="514.275"><tspan dy="16" x="466.5"><tspan>至少一条未勾选</tspan></tspan></text><path d="M416.5 566.8h-146V643" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#p)"/><path d="M542.1 196.2h236v50h-236z" fill="none"/><text font-family="微软雅黑" text-anchor="middle" font-size="13" fill="#323232" font-weight="400" y="7.375" transform="translate(542.1 196.2)"><tspan dy="16" x="118"><tspan style="font-weight:700;font-style:italic">从设置页面回到小程序页面后会触</tspan></tspan><tspan dy="16" x="118"><tspan style="font-weight:700;font-style:italic">发 onShow 事件，这里可以循环检测。</tspan></tspan></text></svg>